import requests
import json
import re
from pprint import pprint
headers = {
    'cookie':'passport_assist_user=Cjwf7Mn2Vu3qhiXztIxRlxSaEPuN7QJJflOrFhEzh_vMBUZq462rpZvKm60sbqmRwZi3CJVAfj8XyHv_fSMaSAo89t7orWdsFdaM2ydFoisuk1uFKg8h2_-Kz0Lzls5-TppNV_5ftPuTaa0R-OxrQk_EmATdosGQxjzlxEREEKDgsg0Yia_WVCIBA7A6St0%3D; n_mh=W55lYA_Az2C2qpDCePdyOG6MAKBpq8rxsgRseY_uDcw; sso_uid_tt=abbd194a8d6ee40c015b6dda1bd80ce4; sso_uid_tt_ss=abbd194a8d6ee40c015b6dda1bd80ce4; toutiao_sso_user=e5081931ec432653019730182d5c9a14; toutiao_sso_user_ss=e5081931ec432653019730182d5c9a14; odin_tt=9041374ac942adf279190a3ba59a2ecf844f30ddbf71f0403a780dc34e89d26e7ed48fff5540e2ade73e24bcb490f8db; LOGIN_STATUS=1; store-region=cn-js; store-region-src=uid; d_ticket=61d6acd4ddbe314882f4d3745b4cf29020a50; uid_tt=1e1b8d78237c540b9cb9c5a3454f2a86; uid_tt_ss=1e1b8d78237c540b9cb9c5a3454f2a86; sid_tt=b34717d27bdd9d49987d39d297346efb; sessionid=b34717d27bdd9d49987d39d297346efb; sessionid_ss=b34717d27bdd9d49987d39d297346efb; ttwid=1%7CFo9xwmTVhEGkZ0XYlXnYKseh20fvhtr14M9vPFtY8ug%7C1691258863%7C7356b7d1e892911537ccaa9fdde11a8585e6b16ab5c327f0411d19d8745cac76; sid_ucp_sso_v1=1.0.0-KGM0ZDk0ZDgzNDYxYWQ1NTU5Y2IwMWU4MGRmNGQ4MWVkNzQ1NzkzYTMKHQjTw5D37AEQorXgpgYY7zEgDDC2iabLBTgGQPQHGgJscSIgZTUwODE5MzFlYzQzMjY1MzAxOTczMDE4MmQ1YzlhMTQ; ssid_ucp_sso_v1=1.0.0-KGM0ZDk0ZDgzNDYxYWQ1NTU5Y2IwMWU4MGRmNGQ4MWVkNzQ1NzkzYTMKHQjTw5D37AEQorXgpgYY7zEgDDC2iabLBTgGQPQHGgJscSIgZTUwODE5MzFlYzQzMjY1MzAxOTczMDE4MmQ1YzlhMTQ; sid_guard=b34717d27bdd9d49987d39d297346efb%7C1691884197%7C5184000%7CWed%2C+11-Oct-2023+23%3A49%3A57+GMT; sid_ucp_v1=1.0.0-KGExNzg5YzlkMDhkZDEwNjdiMDczZjZlNjAyNWRlMTU2M2VlNjFkNzgKGQjTw5D37AEQpbXgpgYY7zEgDDgGQPQHSAQaAmxmIiBiMzQ3MTdkMjdiZGQ5ZDQ5OTg3ZDM5ZDI5NzM0NmVmYg; ssid_ucp_v1=1.0.0-KGExNzg5YzlkMDhkZDEwNjdiMDczZjZlNjAyNWRlMTU2M2VlNjFkNzgKGQjTw5D37AEQpbXgpgYY7zEgDDgGQPQHSAQaAmxmIiBiMzQ3MTdkMjdiZGQ5ZDQ5OTg3ZDM5ZDI5NzM0NmVmYg; bd_ticket_guard_client_data=eyJiZC10aWNrZXQtZ3VhcmQtdmVyc2lvbiI6MiwiYmQtdGlja2V0LWd1YXJkLWl0ZXJhdGlvbi12ZXJzaW9uIjoxLCJiZC10aWNrZXQtZ3VhcmQtcmVlLXB1YmxpYy1rZXkiOiJCRmJ4Y2RmTytiVElYd0c0VG9COTdtZzhBVFNoZ1ROaWtCZ01SUlFPcCtQTnEvazVSVW56SnVWYWpUNlRZTkx5dzlvTTVqdGJTMTFWQWtOY3V3R2QydWc9IiwiYmQtdGlja2V0LWd1YXJkLXdlYi12ZXJzaW9uIjoxfQ==; __live_version__=%221.1.1.3119%22; FORCE_LOGIN=%7B%22videoConsumedRemainSeconds%22%3A180%7D; passport_csrf_token=749a34e2df9baa76a366ed7eb1ce49af; passport_csrf_token_default=749a34e2df9baa76a366ed7eb1ce49af; s_v_web_id=verify_lmukofo2_0nTpK2dv_SIOd_4sHw_8XVN_AKlL9s5QHTjR; tt_scid=NG3FAsnv14AN31HGPt4cw3fwrXo5OaJ3wHVyaNQ5UP3UrMB4Frms4R18BqbMkVya188f; __ac_nonce=0650f140400509190661; __ac_signature=_02B4Z6wo00f0152NPMAAAIDABvaKDn7UJo-drThAAIJ09dnjGmvWO0B65StOR2AMJAvm4URammypfGGB8To6Xmn5-pgEqhS5BirjCapgJLl67ZcyQ6JDjSIYT8KeJjm-tRrPDrgR7FgddfXF90; strategyABtestKey=%221695487010.928%22; volume_info=%7B%22isUserMute%22%3Afalse%2C%22isMute%22%3Afalse%2C%22volume%22%3A0.233%7D; IsDouyinActive=true; home_can_add_dy_2_desktop=%220%22; stream_recommend_feed_params=%22%7B%5C%22cookie_enabled%5C%22%3Atrue%2C%5C%22screen_width%5C%22%3A2048%2C%5C%22screen_height%5C%22%3A1280%2C%5C%22browser_online%5C%22%3Atrue%2C%5C%22cpu_core_num%5C%22%3A16%2C%5C%22device_memory%5C%22%3A8%2C%5C%22downlink%5C%22%3A1.4%2C%5C%22effective_type%5C%22%3A%5C%223g%5C%22%2C%5C%22round_trip_time%5C%22%3A450%7D%22; msToken=SSrkzylG3pPm_NRXMkz2_DQRXAg3Fp0WKds-iuTpjCEVPcASHPIA8w2TNnoj2fvff5rXS-zgbqbF8CISB5_3fzXUs6LQXDl1zzNNMuc0p4PDIYsud2y5tDI54gNHbg==; msToken=Vv4Eq4nkE7pFZmVoOlvnZjF_qUf0DUooRQVrfucDRyktDbeFQk6w3O9NpyXWfvwpTym9hCLLKADorJp0W9UB2HFPQaZ_iPSHiOJiuFIUjA6RnauWFUKdqVfE-TTLyg==',
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36'
            }
url = 'https://www.douyin.com/user/MS4wLjABAAAAQ5MLoKCvUDczYQLk_amwYxqUI5HC7Nqj1pT50oST02U?modal_id=7296056217049238819&relation=0&vid=7296803324131691810'
response = requests.get(url=url, headers=headers)
html_data = response.text
# title = re.findall('video_title" content="(.*?)"/><meta', html_data)[0]
#info = re.findall('<script id="RENDER_DATA" type="application/json">(.*?)</script', html_data)[0]
#html = requests.utils.unquote(info)
#json_data = json.loads(html)
#video_url = 'https:' + json_data['app']['videoDetail']['video']['bitRateList'][0]['playAddr'][0]['src']
print(html_data)
#pprint(json_data)
